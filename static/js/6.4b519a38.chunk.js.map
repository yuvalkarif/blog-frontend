{"version":3,"sources":["helpers/api.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/PostMDE/PostMDE.styles.js","components/Login/Login.styles.js","components/Login/index.js"],"names":["url","process","getPosts","a","axios","get","posts","data","getPostByID","postID","post","createComment","comment","username","body","deleteComment","commentID","user","token","delete","headers","authorization","handleLogin","password","Error","updatePost","img","title","id","put","encodeURIComponent","author","thumbnail","createPost","deletePost","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","value","configurable","writable","Wrapper","styled","section","theme","mainColor","bgColor","shadowColor","blockColor","titleColor","Submit","button","accentColor","div","FormContainer","form","ErrorMessage","Login","setUser","useState","loginUser","setLoginUser","error","setError","history","useHistory","onLogin","e","preventDefault","res","TypeError","response","msg","message","toString","localStorage","clear","setItem","JSON","stringify","displayname","replace","onSubmit","htmlFor","type","name","placeholder","onChange"],"mappings":"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","file":"static/js/6.4b519a38.chunk.js","sourcesContent":["import axios from \"axios\";\nexport const url =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_API_URL\n    : \"http://localhost:8080\";\n\nexport const getPosts = async () => {\n  let posts;\n  try {\n    posts = await axios.get(`${url}/api/post/all`);\n  } catch (error) {\n    return error;\n  }\n\n  return await posts.data.posts;\n};\nexport const getPostByID = async (postID) => {\n  let post;\n  try {\n    post = await axios.get(`${url}/api/post/${postID}`);\n  } catch (error) {\n    return error;\n  }\n  return await post.data.post;\n};\nexport const createComment = async (postID, comment) => {\n  let post;\n  const { username, body } = comment;\n  try {\n    post = await axios.post(`${url}/api/post/${postID}/comment`, {\n      username,\n      body,\n    });\n  } catch (error) {\n    return error;\n  }\n  return await post.data;\n};\nexport const deleteComment = async (postID, commentID, user) => {\n  const { token } = user;\n  let data;\n  try {\n    data = await axios.delete(`${url}/api/post/${postID}/${commentID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n  return data;\n};\n\nexport const handleLogin = async (user) => {\n  const { username, password } = user;\n\n  try {\n    if (!username || !password) {\n      throw Error(\"Fill in your Credentials\");\n    }\n    return await axios.post(`${url}/api/login`, {\n      username,\n      password,\n    });\n  } catch (error) {\n    return error;\n  }\n};\nexport const updatePost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title, id } = post;\n  try {\n    if (!body || !title || !id) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.put(\n      `${url}/api/post/${id}`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const createPost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title } = post;\n  try {\n    if (!body || !title) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.post(\n      `${url}/api/post`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const deletePost = async (user, postID) => {\n  const { token } = user;\n  try {\n    return await axios.delete(`${url}/api/post/${postID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const uploadThumbnail = async (file) => {\n  let formData = new FormData();\n  formData.append(\"thumbnail\", file);\n  try {\n    return await axios.patch(`${url}/api/images/upload`, formData);\n  } catch (error) {\n    return error;\n  }\n};\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import styled from \"styled-components\";\nexport const Wrapper = styled.section`\n  width: clamp(45%, 680px, 92%);\n  margin: 2.5rem auto;\n  display: grid;\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ${({ theme }) => theme.mainColor};\n  background-color: ${({ theme }) => theme.bgColor};\n  font-size: 1.25rem;\n  box-shadow: rgba(${({ theme }) => theme.shadowColor}, 0.08) 1em 2em 3.5em 0px;\n  .EasyMDEContainer {\n    box-sizing: border-box;\n    margin-bottom: 1rem;\n    * {\n      background-color: ${({ theme }) => theme.blockColor};\n      color: ${({ theme }) => theme.titleColor};\n      border-color: none;\n    }\n    .editor-toolbar {\n    }\n  }\n  h3 {\n    margin: 0 auto;\n    margin-bottom: min(3.5%, 1.5rem);\n    color: ${({ theme }) => theme.titleColor};\n  }\n  label {\n    input {\n      box-sizing: border-box;\n      background-color: ${({ theme }) => theme.blockColor};\n      color: ${({ theme }) => theme.titleColor};\n      padding: 0.85rem 0;\n      padding-inline: 1rem;\n      border-radius: 1rem;\n      border: none;\n      width: 100%;\n      margin-bottom: 1.5em;\n      font-size: 1.5rem;\n      font-weight: 600;\n    }\n  }\n`;\nexport const Submit = styled.button`\n  border-radius: 1rem;\n  border: none;\n  min-width: 20%;\n  padding: 0.85rem 0.65rem;\n  font-family: inherit;\n  font-weight: 800;\n  font-size: 1.05rem;\n  margin: 0 auto;\n  margin-top: min(3.5%, 1.5rem);\n  background-color: ${({ theme }) => theme.bgColor};\n  outline: 2px solid ${({ theme }) => theme.accentColor};\n  color: ${({ theme }) => theme.accentColor};\n  &:hover {\n    color: ${({ theme }) => theme.bgColor};\n    background-color: ${({ theme }) => theme.accentColor};\n    cursor: pointer;\n  }\n`;\n","import styled from \"styled-components\";\nexport const Wrapper = styled.div`\n  width: clamp(45%, 680px, 92%);\n  min-height: 2rem;\n  margin: 2.5rem auto;\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ${({ theme }) => theme.mainColor};\n  background-color: ${({ theme }) => theme.bgColor};\n  font-size: 1.25rem;\n  box-shadow: rgba(${({ theme }) => theme.shadowColor}, 0.08) 1em 2em 3.5em 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 0.35em;\n  position: relative;\n  transition: transform ease-in-out;\n  h2 {\n    color: ${({ theme }) => theme.titleColor};\n    margin: 0 auto;\n  }\n`;\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 95%;\n  margin: 0 auto;\n\n  label {\n    display: flex;\n    flex-direction: column;\n    margin: 0.5em;\n    span {\n      font-size: 1em;\n      font-weight: 600;\n      color: ${({ theme }) => theme.titleColor};\n      margin-bottom: 0.5em;\n    }\n    input {\n      border-radius: 1rem;\n      font: inherit;\n      border: none;\n      background-color: ${({ theme }) => theme.blockColor};\n      color: ${({ theme }) => theme.titleColor};\n      padding: 0.85rem 0.5rem;\n    }\n  }\n`;\n\nexport const ErrorMessage = styled.div`\n  margin: 0.5em auto;\n  color: red;\n`;\n","import { useState } from \"react\";\nimport { ErrorMessage, FormContainer, Wrapper } from \"./Login.styles\";\nimport { Submit } from \"../PostMDE/PostMDE.styles\";\nimport { handleLogin } from \"../../helpers/api\";\nimport { useHistory } from \"react-router\";\n\nexport default function Login({ setUser }) {\n  const [loginUser, setLoginUser] = useState({ username: \"\", password: \"\" });\n  const [error, setError] = useState();\n  const history = useHistory();\n  const onLogin = async (e) => {\n    e.preventDefault();\n    const res = await handleLogin(loginUser);\n    if (res instanceof Error || typeof res == TypeError) {\n      res.response\n        ? setError(res.response.data.msg)\n        : setError(res.message.toString());\n    } else {\n      localStorage.clear();\n      localStorage.setItem(\"token\", JSON.stringify(res.data.token));\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user.displayname));\n      setUser({ username: res.data.user.displayname, token: res.data.token });\n      history.replace(\"/admin\");\n    }\n  };\n\n  return (\n    <Wrapper>\n      <h2>Please log in blogger !</h2>\n      {error && <ErrorMessage>{error}</ErrorMessage>}\n      <FormContainer onSubmit={onLogin}>\n        <label htmlFor=\"username\">\n          <span>Username</span>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"\"\n            onChange={(e) => {\n              setLoginUser({ ...loginUser, username: `${e.target.value}` });\n            }}\n          ></input>\n        </label>\n        <label htmlFor=\"password\">\n          <span>Password</span>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"\"\n            onChange={(e) => {\n              setLoginUser({ ...loginUser, password: `${e.target.value}` });\n            }}\n          ></input>\n        </label>\n        <Submit>Submit</Submit>\n      </FormContainer>\n    </Wrapper>\n  );\n}\n"],"sourceRoot":""}