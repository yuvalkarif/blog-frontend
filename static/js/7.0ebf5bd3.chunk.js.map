{"version":3,"sources":["helpers/api.js","svg/comment.js","svg/trash.js","components/Post/post.styles.js","svg/arrow.js","components/Post/index.js","components/Feed/feed.styles.js","components/Feed/index.js"],"names":["url","process","getPosts","a","axios","get","posts","data","getPostByID","postID","post","createComment","comment","username","body","deleteComment","commentID","user","token","delete","headers","authorization","handleLogin","password","Error","updatePost","img","title","id","put","encodeURIComponent","author","thumbnail","createPost","deletePost","CommentSVG","xmlns","viewBox","width","height","opacity","cx","cy","r","d","TrashSVG","Wrapper","styled","div","theme","mainColor","blockColor","shadowColor","rgbBgColor","props","titleColor","accentColor","redColor","InfoContainer","ArrowSVG","transform","Post","info","history","useHistory","useUserContext","goToPost","push","_id","handleDelete","console","error","go","onClick","length","slice","className","comments","datetime","section","PostsContainer","Feed","useState","setPosts","useEffect","then","results","map","Loading"],"mappings":"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","file":"static/js/7.0ebf5bd3.chunk.js","sourcesContent":["import axios from \"axios\";\nexport const url =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_API_URL\n    : \"http://localhost:8080\";\n\nexport const getPosts = async () => {\n  let posts;\n  try {\n    posts = await axios.get(`${url}/api/post/all`);\n  } catch (error) {\n    return error;\n  }\n\n  return await posts.data.posts;\n};\nexport const getPostByID = async (postID) => {\n  let post;\n  try {\n    post = await axios.get(`${url}/api/post/${postID}`);\n  } catch (error) {\n    return error;\n  }\n  return await post.data.post;\n};\nexport const createComment = async (postID, comment) => {\n  let post;\n  const { username, body } = comment;\n  try {\n    post = await axios.post(`${url}/api/post/${postID}/comment`, {\n      username,\n      body,\n    });\n  } catch (error) {\n    return error;\n  }\n  return await post.data;\n};\nexport const deleteComment = async (postID, commentID, user) => {\n  const { token } = user;\n  let data;\n  try {\n    data = await axios.delete(`${url}/api/post/${postID}/${commentID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n  return data;\n};\n\nexport const handleLogin = async (user) => {\n  const { username, password } = user;\n\n  try {\n    if (!username || !password) {\n      throw Error(\"Fill in your Credentials\");\n    }\n    return await axios.post(`${url}/api/login`, {\n      username,\n      password,\n    });\n  } catch (error) {\n    return error;\n  }\n};\nexport const updatePost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title, id } = post;\n  try {\n    if (!body || !title || !id) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.put(\n      `${url}/api/post/${id}`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const createPost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title } = post;\n  try {\n    if (!body || !title) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.post(\n      `${url}/api/post`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const deletePost = async (user, postID) => {\n  const { token } = user;\n  try {\n    return await axios.delete(`${url}/api/post/${postID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const uploadThumbnail = async (file) => {\n  let formData = new FormData();\n  formData.append(\"thumbnail\", file);\n  try {\n    return await axios.patch(`${url}/api/images/upload`, formData);\n  } catch (error) {\n    return error;\n  }\n};\n","export default function CommentSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"message-square\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <circle cx=\"12\" cy=\"11\" r=\"1\" />\n          <circle cx=\"16\" cy=\"11\" r=\"1\" />\n          <circle cx=\"8\" cy=\"11\" r=\"1\" />\n          <path d=\"M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","export default function TrashSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"trash-2\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <path d=\"M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z\" />\n          <path d=\"M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z\" />\n          <path d=\"M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  padding: 1.5rem;\n  border-radius: 1rem;\n  //Color and Styles\n  color: ${({ theme }) => theme.mainColor};\n  background-color: ${({ theme }) => theme.blockColor};\n  font-size: 1.25rem;\n  box-shadow: rgba(${({ theme }) => theme.shadowColor}, 0.08) 1em 2em 3.5em 0px;\n  gap: 1rem;\n  //Grid\n  /* width: 65%; */\n  display: grid;\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-template-rows: auto;\n  grid-template-areas:\n    \"title title .\"\n    \"info info comment\";\n\n  //Pos\n  background-image: linear-gradient(\n      to right,\n      rgba(${({ theme }) => theme.rgbBgColor}, 1),\n      rgba(${({ theme }) => theme.rgbBgColor}, 1),\n      rgba(0, 0, 0, 0)\n    ),\n    url(${(props) => props.thumbnail});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center right;\n\n  h2 {\n    width: fit-content;\n    margin: 0;\n  }\n  &:hover {\n    h2::after {\n      width: 100%;\n    }\n  }\n\n  & > h2 {\n    grid-area: title;\n\n    color: ${({ theme }) => theme.titleColor};\n\n    &::after {\n      content: \"\";\n      display: block;\n      width: 0;\n      height: 0.15em;\n      background: ${({ theme }) => theme.accentColor};\n      transition: width 200ms ease-in-out;\n    }\n\n    &:first-letter {\n      text-transform: capitalize;\n    }\n  }\n  .body {\n    grid-area: body;\n    font-size: 1rem;\n    max-height: 10ch;\n    overflow: hidden;\n  }\n\n  .arrow {\n    width: 1.75em;\n    fill: ${({ theme }) => theme.accentColor};\n    transition: transform 50ms ease-in-out;\n    pointer-events: auto;\n    &:hover {\n      cursor: pointer;\n      transform: scale(115%);\n    }\n  }\n\n  .comments {\n    /* fill: ${({ theme }) => theme.accentColor}; */\n    background: rgba(${({ theme }) => theme.rgbBgColor}, 0.9);\n    border-radius: 1rem;\n    padding: 0.25em;\n    grid-area: comment;\n    display: flex;\n    align-self: flex-end;\n    justify-self: flex-end;\n    justify-content: center;\n    color: ${({ theme }) => theme.titleColor};\n    font-size: 1.5rem;\n    height: fit-content;\n    width: fit-content;\n    span {\n      height: fit-content;\n    }\n    & > svg {\n      padding-top: 0.1em;\n      margin-left: 0.1em;\n      height: 1.5rem;\n      fill: ${({ theme }) => theme.titleColor};\n    }\n\n    .delete {\n      height: fit-content;\n      svg {\n        fill: ${({ theme }) => theme.redColor} !important;\n        transition: transform 50ms ease-in-out;\n        pointer-events: auto;\n        height: 1.5rem;\n        &:hover {\n          cursor: pointer;\n          transform: scale(1.2, 1.2) translate3d(0, 0, 10px);\n        }\n      }\n    }\n  }\n`;\n\nexport const InfoContainer = styled.div`\n  grid-area: info;\n  align-self: end;\n\n  display: flex;\n  gap: 1rem;\n\n  span {\n    color: ${({ theme }) => theme.titleColor};\n  }\n  p {\n    margin-top: 0.2em;\n    font-size: 0.75em;\n    font-weight: 500;\n  }\n`;\n","export default function ArrowSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"arrow-circle-right\">\n          <rect\n            width=\"24\"\n            height=\"24\"\n            transform=\"rotate(-90 12 12)\"\n            opacity=\"0\"\n          />\n          <path d=\"M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z\" />\n          <path d=\"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import { Wrapper, InfoContainer } from \"./post.styles\";\nimport ArrowSVG from \"../../svg/arrow\";\nimport CommentSVG from \"../../svg/comment\";\nimport TrashSVG from \"../../svg/trash\";\nimport { useHistory } from \"react-router-dom\";\nimport { deletePost } from \"../../helpers/api\";\nimport useUserContext from \"../../constants/useUserContext\";\n\nexport default function Post({ info }) {\n  const history = useHistory();\n  const user = useUserContext();\n  const goToPost = () => {\n    history.push(`/post/${info._id}`);\n  };\n  const handleDelete = async () => {\n    try {\n      await deletePost(user, info._id);\n    } catch (error) {\n      console.error(error);\n    }\n    history.go(0);\n  };\n  return (\n    <Wrapper thumbnail={info.thumbnail ? `${info.thumbnail}` : \"\"}>\n      <h2 onClick={goToPost}>\n        {info.title.length > 35 ? info.title.slice(0, 35) + \"...\" : info.title}\n      </h2>\n\n      <div className=\"comments\">\n        <span>{info.comments.length}</span>\n        <CommentSVG />\n        {user?.username && user?.token && (\n          <div className=\"delete\" onClick={handleDelete}>\n            <TrashSVG />\n          </div>\n        )}\n      </div>\n      <InfoContainer>\n        <div>\n          <span>{info.author}</span>\n          <p>{info.datetime}</p>\n        </div>\n        <div className=\"arrow\" onClick={goToPost}>\n          <ArrowSVG />\n        </div>\n      </InfoContainer>\n    </Wrapper>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Wrapper = styled.section`\n  width: clamp(22%, 1280px, 92%);\n  margin: 0 auto;\n`;\n\nexport const PostsContainer = styled.div`\n  margin: 1em;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));\n\n  grid-auto-rows: auto;\n  /* flex-wrap: wrap;\n  align-content: flex-start;\n  justify-content: space-evenly; */\n  gap: 1em;\n  @media (min-width: 960px) {\n    & > :first-child {\n      grid-row: span 2 / auto;\n      grid-column: span 2 / auto;\n      font-size: 2rem;\n    }\n    & > :nth-child(5) {\n      grid-column: span 2 / auto;\n    }\n    & > :nth-child(6) {\n      grid-column: span 2 / auto;\n    }\n  }\n\n  /* & > * {\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: auto;\n  }\n  & > *:nth-child(even) {\n    flex-direction: row-reverse;\n  } */\n`;\n","import { useEffect, useState } from \"react\";\nimport { getPosts } from \"../../helpers/api\";\nimport Post from \"../Post\";\nimport { PostsContainer, Wrapper } from \"./feed.styles\";\nimport Loading from \"../Loading/index\";\n\nconst Feed = () => {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    if (!posts) {\n      getPosts().then((results) => setPosts(results));\n    }\n  }, [posts]);\n  return (\n    <Wrapper>\n      <PostsContainer>\n        {posts?.length ? (\n          posts.map((post) => {\n            return <Post info={post} key={post._id} />;\n          })\n        ) : (\n          <Loading />\n        )}\n      </PostsContainer>\n    </Wrapper>\n  );\n};\n\nexport default Feed;\n"],"sourceRoot":""}