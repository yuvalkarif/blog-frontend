{"version":3,"sources":["helpers/api.js","svg/comment.js","svg/trash.js","components/PostPage/postpage.styles.js","svg/plus.js","svg/edit.js","components/PostPage/index.js"],"names":["url","process","getPosts","a","axios","get","posts","data","getPostByID","postID","post","createComment","comment","username","body","deleteComment","commentID","user","token","delete","headers","authorization","handleLogin","password","Error","updatePost","img","title","id","put","encodeURIComponent","author","thumbnail","createPost","deletePost","CommentSVG","xmlns","viewBox","width","height","opacity","cx","cy","r","d","TrashSVG","Wrapper","styled","div","theme","mainColor","bgColor","shadowColor","titleColor","InfoContainer","rotate","keyframes","CommentsWrapper","section","accentColor","CommentContainer","accentColorRGB","redColor","FormContainer","form","blockColor","PlusSVG","EditSVG","PostPage","useParams","useState","setPost","toShowForm","setToShowForm","empty","setEmpty","history","useHistory","useUserContext","setComment","handleComment","e","preventDefault","go","useEffect","results","comments","length","setup","className","onClick","push","decodeURIComponent","datetime","onSubmit","htmlFor","type","name","placeholder","onChange","target","value","map","i","handleDelete","_id","reverse"],"mappings":"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","file":"static/js/9.a04adbd3.chunk.js","sourcesContent":["import axios from \"axios\";\nexport const url =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_API_URL\n    : \"http://localhost:8080\";\n\nexport const getPosts = async () => {\n  let posts;\n  try {\n    posts = await axios.get(`${url}/api/post/all`);\n  } catch (error) {\n    return error;\n  }\n\n  return await posts.data.posts;\n};\nexport const getPostByID = async (postID) => {\n  let post;\n  try {\n    post = await axios.get(`${url}/api/post/${postID}`);\n  } catch (error) {\n    return error;\n  }\n  return await post.data.post;\n};\nexport const createComment = async (postID, comment) => {\n  let post;\n  const { username, body } = comment;\n  try {\n    post = await axios.post(`${url}/api/post/${postID}/comment`, {\n      username,\n      body,\n    });\n  } catch (error) {\n    return error;\n  }\n  return await post.data;\n};\nexport const deleteComment = async (postID, commentID, user) => {\n  const { token } = user;\n  let data;\n  try {\n    data = await axios.delete(`${url}/api/post/${postID}/${commentID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n  return data;\n};\n\nexport const handleLogin = async (user) => {\n  const { username, password } = user;\n\n  try {\n    if (!username || !password) {\n      throw Error(\"Fill in your Credentials\");\n    }\n    return await axios.post(`${url}/api/login`, {\n      username,\n      password,\n    });\n  } catch (error) {\n    return error;\n  }\n};\nexport const updatePost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title, id } = post;\n  try {\n    if (!body || !title || !id) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.put(\n      `${url}/api/post/${id}`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const createPost = async (user, post, img) => {\n  const { username, token } = user;\n  const { body, title } = post;\n  try {\n    if (!body || !title) {\n      throw Error(\"Fill in Title and Body of the Post\");\n    }\n    return await axios.post(\n      `${url}/api/post`,\n      {\n        body: encodeURIComponent(body),\n        title,\n        author: username,\n        thumbnail: img,\n      },\n      {\n        headers: {\n          authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  } catch (error) {\n    return error;\n  }\n};\nexport const deletePost = async (user, postID) => {\n  const { token } = user;\n  try {\n    return await axios.delete(`${url}/api/post/${postID}`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const uploadThumbnail = async (file) => {\n  let formData = new FormData();\n  formData.append(\"thumbnail\", file);\n  try {\n    return await axios.patch(`${url}/api/images/upload`, formData);\n  } catch (error) {\n    return error;\n  }\n};\n","export default function CommentSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"message-square\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <circle cx=\"12\" cy=\"11\" r=\"1\" />\n          <circle cx=\"16\" cy=\"11\" r=\"1\" />\n          <circle cx=\"8\" cy=\"11\" r=\"1\" />\n          <path d=\"M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","export default function TrashSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"trash-2\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <path d=\"M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z\" />\n          <path d=\"M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z\" />\n          <path d=\"M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import styled, { keyframes } from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  width: clamp(22%, 1280px, 85%);\n  margin: 2.5rem auto;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: repeat(auto-fit, 1frf);\n  grid-template-areas:\n    \"title title edit\"\n    \"body body body\"\n    \"info info info\";\n  //Pos\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ${({ theme }) => theme.mainColor};\n  background-color: ${({ theme }) => theme.bgColor};\n  font-size: 1.25rem;\n  box-shadow: rgba(${({ theme }) => theme.shadowColor}, 0.08) 1em 2em 3.5em 0px;\n  gap: 1rem;\n  .edit {\n    grid-area: edit;\n    align-self: flex-start;\n    justify-self: flex-end;\n    svg {\n      fill: ${({ theme }) => theme.titleColor} !important;\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      height: 1.5rem;\n\n      &:hover {\n        cursor: pointer;\n        transform: scale(1.2, 1.2) translate3d(0, 0, 10px);\n      }\n    }\n  }\n  & > h2 {\n    grid-area: title;\n    margin: 0;\n    color: ${({ theme }) => theme.titleColor};\n\n    &:first-letter {\n      text-transform: capitalize;\n    }\n  }\n  .body {\n    grid-area: body;\n    font-size: 1rem;\n    & > * {\n      margin: 0.1em;\n    }\n\n    img {\n      max-width: 100%;\n      margin: 0 auto;\n    }\n  }\n`;\nexport const InfoContainer = styled.div`\n  grid-area: info;\n  display: flex;\n  gap: 0.5em;\n  align-items: end;\n  h2 {\n    font-size: 1em;\n    margin: 0;\n  }\n  span {\n    color: ${({ theme }) => theme.titleColor};\n  }\n\n  svg {\n    height: 1em;\n    margin-left: -0.4em;\n    margin-bottom: 0.1em;\n  }\n  font-size: 1rem;\n`;\nconst rotate = keyframes`\n  from {\n    transform: scale(1.0);\n    /* width: 1.75em; */\n  }\n\n  to {\n    transform: scale(1.2);\n    /* width: 2em; */\n\n  }\n`;\nexport const CommentsWrapper = styled.section`\n  width: clamp(22%, 1280px, 85%);\n  min-height: 2rem;\n  margin: 2.5rem auto;\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ${({ theme }) => theme.mainColor};\n  background-color: ${({ theme }) => theme.bgColor};\n  font-size: 1.25rem;\n  box-shadow: rgba(${({ theme }) => theme.shadowColor}, 0.08) 1em 2em 3.5em 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 0.35em;\n  position: relative;\n  transition: transform ease-in-out;\n  /* padding-top: 2em; */\n\n  .pulse {\n    svg {\n      animation: ${rotate} 600ms alternate infinite;\n    }\n  }\n  .plus {\n    position: absolute;\n    justify-self: end;\n    align-self: end;\n    margin-top: -0.3rem;\n    svg {\n      width: 1.75em;\n      fill: ${({ theme }) => theme.accentColor};\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      &:hover {\n        cursor: pointer;\n        transform: scale(115%);\n      }\n    }\n  }\n`;\n\nexport const CommentContainer = styled.div`\n  border-bottom: 3px solid rgba(${({ theme }) => theme.accentColorRGB}, 0.35);\n  padding: 0.5em 0;\n  font-size: 1rem;\n  h3 {\n    display: flex;\n    align-items: flex-end;\n    justify-content: space-between;\n\n    font-weight: 600;\n\n    span {\n      font-size: 1em;\n      color: ${({ theme }) => theme.titleColor};\n    }\n    p {\n      align-self: center;\n      font-size: 0.6em;\n\n      color: ${({ theme }) => theme.mainColor};\n    }\n  }\n  .delete {\n    justify-self: flex-end;\n    align-self: flex-end;\n    place-self: flex-end;\n    svg {\n      fill: ${({ theme }) => theme.redColor} !important;\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      height: 1.2em;\n      margin-right: 0.33em;\n      &:hover {\n        cursor: pointer;\n        transform: scale(1.2, 1.2) translate3d(0, 0, 10px);\n      }\n    }\n  }\n`;\n\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n\n  h3 {\n    color: ${({ theme }) => theme.titleColor};\n    margin: 0.5rem 0;\n    margin-top: 0;\n  }\n  textarea,\n  input {\n    box-sizing: border-box;\n    width: 100%;\n    border-radius: 1rem;\n    font: inherit;\n    border: none;\n    background-color: ${({ theme }) => theme.blockColor};\n    color: ${({ theme }) => theme.titleColor};\n    margin: 0.5rem auto;\n    padding: 0.85rem 0.65rem;\n  }\n  button {\n    box-sizing: border-box;\n    border-radius: 1rem;\n    border: none;\n    /* min-width: 20%; */\n    justify-self: flex-end;\n    align-self: flex-end;\n    padding: 0.85rem 0.65rem;\n    font-family: inherit;\n    font-weight: 800;\n    font-size: 1.05rem;\n    background-color: ${({ theme }) => theme.bgColor};\n    color: ${({ theme }) => theme.accentColor};\n    &:hover {\n      color: ${({ theme }) => theme.bgColor};\n      background-color: ${({ theme }) => theme.accentColor};\n      cursor: pointer;\n    }\n  }\n`;\n","export default function PlusSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"plus-circle\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <path d=\"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z\" />\n          <path d=\"M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","export default function EditSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <g data-name=\"Layer 2\">\n        <g data-name=\"edit\">\n          <rect width=\"24\" height=\"24\" opacity=\"0\" />\n          <path d=\"M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z\" />\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import CommentSVG from \"../../svg/comment\";\nimport TrashSVG from \"../../svg/trash\";\nimport { useParams, useHistory } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { createComment, getPostByID, deleteComment } from \"../../helpers/api\";\nimport {\n  CommentContainer,\n  CommentsWrapper,\n  FormContainer,\n  InfoContainer,\n  Wrapper,\n} from \"./postpage.styles\";\nimport PlusSVG from \"../../svg/plus\";\nimport ReactMarkdown from \"react-markdown\";\nimport EditSVG from \"../../svg/edit\";\nimport useUserContext from \"../../constants/useUserContext\";\nexport default function PostPage() {\n  const { id } = useParams();\n  const [post, setPost] = useState();\n  const [toShowForm, setToShowForm] = useState(false);\n  const [empty, setEmpty] = useState(true);\n  const history = useHistory();\n  const user = useUserContext();\n  const [comment, setComment] = useState({\n    username: \"\",\n    body: \"\",\n  });\n  const handleComment = async (e) => {\n    e.preventDefault();\n    await createComment(id, comment);\n    history.go(0);\n  };\n  const handleClick = () => {};\n\n  async function handleDelete(commentID) {\n    await deleteComment(id, commentID, user);\n    history.go(0);\n  }\n\n  useEffect(() => {\n    setup();\n    async function setup() {\n      let results = await getPostByID(id);\n      setPost(results);\n      setEmpty(!!results.comments.length);\n    }\n  }, [id]);\n  const handleEdit = () => {\n    history.push(`${id}/edit/`);\n  };\n  return (\n    <>\n      {post ? (\n        <>\n          <Wrapper>\n            <h2>{post.title}</h2>\n            {user?.username && user?.token && (\n              <div className=\"edit\" onClick={handleEdit}>\n                <EditSVG />\n              </div>\n            )}\n\n            <ReactMarkdown className=\"body\">\n              {decodeURIComponent(post.body)}\n            </ReactMarkdown>\n\n            <InfoContainer>\n              <h2>\n                Posted by <span>{post.author}</span>\n              </h2>\n              <p>{post.datetime}</p>\n\n              <span>{post.comments.length}</span>\n              <CommentSVG />\n            </InfoContainer>\n          </Wrapper>\n          <CommentsWrapper>\n            <div\n              className={`${!empty ? \"pulse plus\" : \"plus\"}`}\n              onClick={() => {\n                handleClick();\n                setToShowForm(!toShowForm);\n              }}\n            >\n              <PlusSVG />\n            </div>\n\n            {toShowForm && (\n              <FormContainer onSubmit={handleComment}>\n                <h3>Comment</h3>\n                <label htmlFor=\"username\">\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    placeholder=\"Your Name\"\n                    onChange={(e) => {\n                      setComment({ ...comment, username: `${e.target.value}` });\n                    }}\n                  ></input>\n                </label>\n                <label htmlFor=\"body\">\n                  <textarea\n                    name=\"body\"\n                    placeholder=\"What were you thinking about?\"\n                    onChange={(e) => {\n                      setComment({ ...comment, body: `${e.target.value}` });\n                    }}\n                  ></textarea>\n                </label>\n                <button type=\"submit\">Add Comment</button>\n              </FormContainer>\n            )}\n            {empty ? (\n              post.comments\n                .map((comment, i) => {\n                  return (\n                    <CommentContainer>\n                      <h3>\n                        <div>\n                          <span>{comment.username}</span>\n                          <p>{comment.datetime}</p>\n                        </div>\n\n                        {user?.username && user?.token && (\n                          <div\n                            className=\"delete\"\n                            onClick={() => handleDelete(comment._id)}\n                          >\n                            <TrashSVG />\n                          </div>\n                        )}\n                      </h3>\n                      <p>{comment.body}</p>\n                    </CommentContainer>\n                  );\n                })\n                .reverse()\n            ) : (\n              <span>Look quite empty in here...</span>\n            )}\n          </CommentsWrapper>\n        </>\n      ) : null}\n    </>\n  );\n}\n"],"sourceRoot":""}