(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[9],{108:function(n,e,t){"use strict";t.d(e,"f",(function(){return u})),t.d(e,"e",(function(){return l})),t.d(e,"a",(function(){return d})),t.d(e,"c",(function(){return p})),t.d(e,"g",(function(){return h})),t.d(e,"h",(function(){return m})),t.d(e,"b",(function(){return f})),t.d(e,"d",(function(){return b}));var r=t(109),a=t.n(r),c=t(110),o=t(112),i=t.n(o),s="https://karif-blog-api.herokuapp.com",u=function(){var n=Object(c.a)(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.get("".concat(s,"/api/post/all"));case 3:e=n.sent,n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",n.t0);case 9:return n.next=11,e.data.posts;case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=Object(c.a)(a.a.mark((function n(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.get("".concat(s,"/api/post/").concat(e));case 3:t=n.sent,n.next=9;break;case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",n.t0);case 9:return n.next=11,t.data.post;case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r,c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.username,o=t.body,n.prev=1,n.next=4,i.a.post("".concat(s,"/api/post/").concat(e,"/comment"),{username:c,body:o});case 4:r=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",n.t0);case 10:return n.next=12,r.data;case 12:return n.abrupt("return",n.sent);case 13:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r){var c,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.token,n.prev=1,n.next=4,i.a.delete("".concat(s,"/api/post/").concat(e,"/").concat(t),{headers:{authorization:"Bearer ".concat(c)}});case 4:o=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",n.t0);case 10:return n.abrupt("return",o);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t,r){return n.apply(this,arguments)}}(),h=function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.username,r=e.password,n.prev=1,t&&r){n.next=4;break}throw Error("Fill in your Credentials");case 4:return n.next=6,i.a.post("".concat(s,"/api/login"),{username:t,password:r});case 6:return n.abrupt("return",n.sent);case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r){var c,o,u,l,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.username,o=e.token,u=t.body,l=t.title,d=t.id,n.prev=2,u&&l&&d){n.next=5;break}throw Error("Fill in Title and Body of the Post");case 5:return n.next=7,i.a.put("".concat(s,"/api/post/").concat(d),{body:encodeURIComponent(u),title:l,author:c,thumbnail:r},{headers:{authorization:"Bearer ".concat(o)}});case 7:return n.abrupt("return",n.sent);case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e,t,r){return n.apply(this,arguments)}}(),f=function(){var n=Object(c.a)(a.a.mark((function n(e,t,r){var c,o,u,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=e.username,o=e.token,u=t.body,l=t.title,n.prev=2,u&&l){n.next=5;break}throw Error("Fill in Title and Body of the Post");case 5:return n.next=7,i.a.post("".concat(s,"/api/post"),{body:encodeURIComponent(u),title:l,author:c,thumbnail:r},{headers:{authorization:"Bearer ".concat(o)}});case 7:return n.abrupt("return",n.sent);case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt("return",n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e,t,r){return n.apply(this,arguments)}}(),b=function(){var n=Object(c.a)(a.a.mark((function n(e,t){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.token,n.prev=1,n.next=4,i.a.delete("".concat(s,"/api/post/").concat(t),{headers:{authorization:"Bearer ".concat(r)}});case 4:return n.abrupt("return",n.sent);case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()},115:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(1);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(r.jsx)("g",{"data-name":"Layer 2",children:Object(r.jsxs)("g",{"data-name":"message-square",children:[Object(r.jsx)("rect",{width:"24",height:"24",opacity:"0"}),Object(r.jsx)("circle",{cx:"12",cy:"11",r:"1"}),Object(r.jsx)("circle",{cx:"16",cy:"11",r:"1"}),Object(r.jsx)("circle",{cx:"8",cy:"11",r:"1"}),Object(r.jsx)("path",{d:"M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"})]})})})}},116:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(1);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(r.jsx)("g",{"data-name":"Layer 2",children:Object(r.jsxs)("g",{"data-name":"trash-2",children:[Object(r.jsx)("rect",{width:"24",height:"24",opacity:"0"}),Object(r.jsx)("path",{d:"M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"}),Object(r.jsx)("path",{d:"M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"}),Object(r.jsx)("path",{d:"M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"})]})})})}},192:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return F}));var r,a,c,o,i,s,u=t(111),l=t(109),d=t.n(l),p=t(110),h=t(15),m=t(115),f=t(116),b=t(2),j=t(0),x=t(108),g=t(9),v=t(8),O=v.c.div(r||(r=Object(g.a)(['\n  width: clamp(22%, 1280px, 85%);\n  margin: 2.5rem auto;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: repeat(auto-fit, 1frf);\n  grid-template-areas:\n    "title title edit"\n    "body body body"\n    "info info info";\n  //Pos\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ',";\n  background-color: ",";\n  font-size: 1.25rem;\n  box-shadow: rgba(",", 0.08) 1em 2em 3.5em 0px;\n  gap: 1rem;\n  .edit {\n    grid-area: edit;\n    align-self: flex-start;\n    justify-self: flex-end;\n    svg {\n      fill: "," !important;\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      height: 1.5rem;\n\n      &:hover {\n        cursor: pointer;\n        transform: scale(1.2, 1.2) translate3d(0, 0, 10px);\n      }\n    }\n  }\n  & > h2 {\n    grid-area: title;\n    margin: 0;\n    color: ",";\n\n    &:first-letter {\n      text-transform: capitalize;\n    }\n  }\n  .body {\n    grid-area: body;\n    font-size: 1rem;\n    & > * {\n      margin: 0.1em;\n    }\n\n    img {\n      max-width: 100%;\n      margin: 0 auto;\n    }\n  }\n"])),(function(n){return n.theme.mainColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.shadowColor}),(function(n){return n.theme.titleColor}),(function(n){return n.theme.titleColor})),w=v.c.div(a||(a=Object(g.a)(["\n  grid-area: info;\n  display: flex;\n  gap: 0.5em;\n  align-items: end;\n  h2 {\n    font-size: 1em;\n    margin: 0;\n  }\n  span {\n    color: ",";\n  }\n\n  svg {\n    height: 1em;\n    margin-left: -0.4em;\n    margin-bottom: 0.1em;\n  }\n  font-size: 1rem;\n"])),(function(n){return n.theme.titleColor})),y=Object(v.d)(c||(c=Object(g.a)(["\n  from {\n    transform: scale(1.0);\n    /* width: 1.75em; */\n  }\n\n  to {\n    transform: scale(1.2);\n    /* width: 2em; */\n\n  }\n"]))),k=v.c.section(o||(o=Object(g.a)(["\n  width: clamp(22%, 1280px, 85%);\n  min-height: 2rem;\n  margin: 2.5rem auto;\n  padding: min(3.5%, 1.5rem);\n  border-radius: 1rem;\n  //Color and Styles\n  color: ",";\n  background-color: ",";\n  font-size: 1.25rem;\n  box-shadow: rgba(",", 0.08) 1em 2em 3.5em 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 0.35em;\n  position: relative;\n  transition: transform ease-in-out;\n  /* padding-top: 2em; */\n\n  .pulse {\n    svg {\n      animation: "," 600ms alternate infinite;\n    }\n  }\n  .plus {\n    position: absolute;\n    justify-self: end;\n    align-self: end;\n    margin-top: -0.3rem;\n    svg {\n      width: 1.75em;\n      fill: ",";\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      &:hover {\n        cursor: pointer;\n        transform: scale(115%);\n      }\n    }\n  }\n"])),(function(n){return n.theme.mainColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.shadowColor}),y,(function(n){return n.theme.accentColor})),C=v.c.div(i||(i=Object(g.a)(["\n  border-bottom: 3px solid rgba(",", 0.35);\n  padding: 0.5em 0;\n  font-size: 1rem;\n  h3 {\n    display: flex;\n    align-items: flex-end;\n    justify-content: space-between;\n\n    font-weight: 600;\n\n    span {\n      font-size: 1em;\n      color: ",";\n    }\n    p {\n      align-self: center;\n      font-size: 0.6em;\n\n      color: ",";\n    }\n  }\n  .delete {\n    justify-self: flex-end;\n    align-self: flex-end;\n    place-self: flex-end;\n    svg {\n      fill: "," !important;\n      transition: transform 50ms ease-in-out;\n      pointer-events: auto;\n      height: 1.2em;\n      margin-right: 0.33em;\n      &:hover {\n        cursor: pointer;\n        transform: scale(1.2, 1.2) translate3d(0, 0, 10px);\n      }\n    }\n  }\n"])),(function(n){return n.theme.accentColorRGB}),(function(n){return n.theme.titleColor}),(function(n){return n.theme.mainColor}),(function(n){return n.theme.redColor})),z=v.c.form(s||(s=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n\n  h3 {\n    color: ",";\n    margin: 0.5rem 0;\n    margin-top: 0;\n  }\n  textarea,\n  input {\n    box-sizing: border-box;\n    width: 100%;\n    border-radius: 1rem;\n    font: inherit;\n    border: none;\n    background-color: ",";\n    color: ",";\n    margin: 0.5rem auto;\n    padding: 0.85rem 0.65rem;\n  }\n  button {\n    box-sizing: border-box;\n    border-radius: 1rem;\n    border: none;\n    /* min-width: 20%; */\n    justify-self: flex-end;\n    align-self: flex-end;\n    padding: 0.85rem 0.65rem;\n    font-family: inherit;\n    font-weight: 800;\n    font-size: 1.05rem;\n    background-color: ",";\n    color: ",";\n    &:hover {\n      color: ",";\n      background-color: ",";\n      cursor: pointer;\n    }\n  }\n"])),(function(n){return n.theme.titleColor}),(function(n){return n.theme.blockColor}),(function(n){return n.theme.titleColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.accentColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.accentColor})),B=t(1);function L(){return Object(B.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(B.jsx)("g",{"data-name":"Layer 2",children:Object(B.jsxs)("g",{"data-name":"plus-circle",children:[Object(B.jsx)("rect",{width:"24",height:"24",opacity:"0"}),Object(B.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),Object(B.jsx)("path",{d:"M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"})]})})})}var M=t(184);function V(){return Object(B.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(B.jsx)("g",{"data-name":"Layer 2",children:Object(B.jsxs)("g",{"data-name":"edit",children:[Object(B.jsx)("rect",{width:"24",height:"24",opacity:"0"}),Object(B.jsx)("path",{d:"M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"})]})})})}var A=t(26);function F(){var n=Object(b.h)().id,e=Object(j.useState)(),t=Object(h.a)(e,2),r=t[0],a=t[1],c=Object(j.useState)(!1),o=Object(h.a)(c,2),i=o[0],s=o[1],l=Object(j.useState)(!0),g=Object(h.a)(l,2),v=g[0],y=g[1],F=Object(b.g)(),S=Object(A.a)(),H=Object(j.useState)({username:"",body:""}),N=Object(h.a)(H,2),E=N[0],P=N[1],R=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(x.a)(n,E);case 3:F.go(0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function I(){return(I=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)(n,t,S);case 2:F.go(0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(j.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.e)(n);case 2:t=e.sent,a(t),y(!!t.comments.length);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);return Object(B.jsx)(B.Fragment,{children:r?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(O,{children:[Object(B.jsx)("h2",{children:r.title}),(null===S||void 0===S?void 0:S.username)&&(null===S||void 0===S?void 0:S.token)&&Object(B.jsx)("div",{className:"edit",onClick:function(){F.push("".concat(n,"/edit/"))},children:Object(B.jsx)(V,{})}),Object(B.jsx)(M.a,{className:"body",children:decodeURIComponent(r.body)}),Object(B.jsxs)(w,{children:[Object(B.jsxs)("h2",{children:["Posted by ",Object(B.jsx)("span",{children:r.author})]}),Object(B.jsx)("p",{children:r.datetime}),Object(B.jsx)("span",{children:r.comments.length}),Object(B.jsx)(m.a,{})]})]}),Object(B.jsxs)(k,{children:[Object(B.jsx)("div",{className:"".concat(v?"plus":"pulse plus"),onClick:function(){s(!i)},children:Object(B.jsx)(L,{})}),i&&Object(B.jsxs)(z,{onSubmit:R,children:[Object(B.jsx)("h3",{children:"Comment"}),Object(B.jsx)("label",{htmlFor:"username",children:Object(B.jsx)("input",{type:"text",name:"username",placeholder:"Your Name",onChange:function(n){P(Object(u.a)(Object(u.a)({},E),{},{username:"".concat(n.target.value)}))}})}),Object(B.jsx)("label",{htmlFor:"body",children:Object(B.jsx)("textarea",{name:"body",placeholder:"What were you thinking about?",onChange:function(n){P(Object(u.a)(Object(u.a)({},E),{},{body:"".concat(n.target.value)}))}})}),Object(B.jsx)("button",{type:"submit",children:"Add Comment"})]}),v?r.comments.map((function(n,e){return Object(B.jsxs)(C,{children:[Object(B.jsxs)("h3",{children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{children:n.username}),Object(B.jsx)("p",{children:n.datetime})]}),(null===S||void 0===S?void 0:S.username)&&(null===S||void 0===S?void 0:S.token)&&Object(B.jsx)("div",{className:"delete",onClick:function(){return function(n){return I.apply(this,arguments)}(n._id)},children:Object(B.jsx)(f.a,{})})]}),Object(B.jsx)("p",{children:n.body})]})})).reverse():Object(B.jsx)("span",{children:"Look quite empty in here..."})]})]}):null})}}}]);
//# sourceMappingURL=9.a04adbd3.chunk.js.map